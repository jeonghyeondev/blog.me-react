(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{101:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t(1),c=t.n(a),o=t(32),i=t.n(o),u=(t(71),t(15)),s=t(3),b=t(4),j={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]},l=t(13);function d(){var n=Object(s.a)(["\n  .logo-area {\n    dispaly: block;\n    padding-bottom: 2rem;\n    text-align: center;\n    font-weight: bold;\n    letter-spacing: 2px;\n  }\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  border-radius: 2px;\n"]);return d=function(){return n},n}function f(){var n=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return n},n}var O,p=b.b.div(f(),j.gray[2]),g=b.b.div(d()),m=function(n){var e=n.children;return Object(r.jsx)(p,{children:Object(r.jsxs)(g,{children:[Object(r.jsx)("div",{className:"logo-area",children:Object(r.jsx)(l.b,{to:"/",children:"BLOG"})}),e]})})},h=t(16),v=t(11),x=t(8),y=t(5),w=t(12),k=t.n(w),E=t(103),C=t(102),S=t(58),I=t(14),T="loading/START_LOADING",P="loading/FINISH_LOADING",_=Object(E.a)(T,(function(n){return n})),L=Object(E.a)(P,(function(n){return n})),D=Object(C.a)((O={},Object(x.a)(O,T,(function(n,e){return Object(y.a)(Object(y.a)({},n),{},Object(x.a)({},e.payload,!0))})),Object(x.a)(O,P,(function(n,e){return Object(y.a)(Object(y.a)({},n),{},Object(x.a)({},e.payload,!1))})),O),{}),R=function(n){return[n,"".concat(n,"_SUCCESS"),"".concat(n,"_FAILURE")]};function N(n,e){var t="".concat(n,"_SUCCESS"),r="".concat(n,"_FAILURE");return k.a.mark((function a(c){var o;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(I.c)(_(n));case 2:return a.prev=2,a.next=5,Object(I.b)(e,c.payload);case 5:return o=a.sent,a.next=8,Object(I.c)({type:t,payload:o.data,meta:o});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(I.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(I.c)(L(n));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var F,A=t(57),B=t.n(A).a.create(),z=function(){return B.post("/api/auth/logout")},G=k.a.mark(cn),M="auth/CHANGE_FIELD",U="auth/INITIALIZE_FORM",H=R("auth/REGISTER"),W=Object(h.a)(H,3),q=W[0],J=W[1],Q=W[2],Z=R("auth/LOGIN"),K=Object(h.a)(Z,3),$=K[0],V=K[1],X=K[2],Y=Object(E.a)(M,(function(n){return{form:n.form,key:n.key,value:n.value}})),nn=Object(E.a)(U,(function(n){return n})),en=Object(E.a)(q,(function(n){return{username:n.username,password:n.password}})),tn=Object(E.a)($,(function(n){return{username:n.username,password:n.password}})),rn=N(q,(function(n){var e=n.username,t=n.password;return B.post("/api/auth/register",{username:e,password:t})})),an=N($,(function(n){var e=n.username,t=n.password;return B.post("/api/auth/login",{username:e,password:t})}));function cn(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(I.d)(q,rn);case 2:return n.next=4,Object(I.d)($,an);case 4:case"end":return n.stop()}}),G)}var on={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},auth:null,authError:null},un=Object(C.a)((F={},Object(x.a)(F,M,(function(n,e){var t=e.payload,r=t.form,a=t.key,c=t.value;return Object(S.a)(n,(function(n){n[r][a]=c}))})),Object(x.a)(F,U,(function(n,e){var t,r=e.payload;return Object(y.a)(Object(y.a)({},n),{},(t={},Object(x.a)(t,r,on[r]),Object(x.a)(t,"authError",null),t))})),Object(x.a)(F,J,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{authError:null,auth:t})})),Object(x.a)(F,Q,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{authError:t})})),Object(x.a)(F,V,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{authError:null,auth:t})})),Object(x.a)(F,X,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{authError:t})})),F),on);function sn(){var n=Object(s.a)(["\n  ","\n"]);return sn=function(){return n},n}function bn(){var n=Object(s.a)(["\n  ","\n"]);return bn=function(){return n},n}function jn(){var n=Object(s.a)(["\n      backround: ",";\n      &:hover {\n        background: ",";\n      }\n    "]);return jn=function(){return n},n}function ln(){var n=Object(s.a)(["\n      padding-top: 0.75rem;\n      padding-bottom: 0.75rem;\n      width: 100%;\n      font-size: 1.125rem;\n    "]);return ln=function(){return n},n}function dn(){var n=Object(s.a)(["\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.25rem 1rem;\n  color: #fff;\n  outline: none;\n  cursor: pointer;\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n  ","\n  ","\n    &:disabled {\n    background: ",";\n    color: ",";\n  }\n"]);return dn=function(){return n},n}var fn=Object(b.a)(dn(),j.gray[8],j.gray[6],(function(n){return n.fullWidth&&Object(b.a)(ln())}),(function(n){return n.cyan&&Object(b.a)(jn(),j.cyan[5],j.cyan[4])}),j.gray[3],j.gray[5]),On=b.b.button(bn(),fn),pn=Object(b.b)(l.b)(sn(),fn),gn=function(n){return n.to?Object(r.jsx)(pn,Object(y.a)(Object(y.a)({},n),{},{cyan:n.cyan?1:0})):Object(r.jsx)(On,Object(y.a)({},n))};function mn(){var n=Object(s.a)(["\n  color: red;\n  text-align: center;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"]);return mn=function(){return n},n}function hn(){var n=Object(s.a)(["\n  margin-top: 1rem;\n"]);return hn=function(){return n},n}function vn(){var n=Object(s.a)(["\n  margin-top: 2rem;\n  text-align: right;\n  a {\n    color: ",";\n    text-decoration: underline;\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return vn=function(){return n},n}function xn(){var n=Object(s.a)(["\n  font-size: 1rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding-bottom: 0.5rem;\n  outline: none;\n  width: 100%;\n  &:focus {\n    color: $oc-teal07;\n    border-bottom: 1px solid ",";\n  }\n  & + & {\n    margin-top: 1rem;\n  }\n"]);return xn=function(){return n},n}function yn(){var n=Object(s.a)(["\n  h3 {\n    marign: 0;\n    color: ",";\n    margin-bottom: 1rem;\n  }\n"]);return yn=function(){return n},n}var wn,kn=b.b.div(yn(),j.gray[8]),En=b.b.input(xn(),j.gray[5],j.gray[7]),Cn=b.b.div(vn(),j.gray[6],j.gray[9]),Sn=Object(b.b)(gn)(hn()),In={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},Tn=b.b.div(mn()),Pn=function(n){var e=n.type,t=n.form,a=n.onChange,c=n.onSubmit,o=n.error,i=In[e];return Object(r.jsxs)(kn,{children:[Object(r.jsx)("h3",{children:i}),Object(r.jsxs)("form",{onSubmit:c,children:[Object(r.jsx)(En,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:a,value:t.username}),Object(r.jsx)(En,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:a,value:t.password}),"register"===e&&Object(r.jsx)(En,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:a,value:t.passwordConfirm}),o&&Object(r.jsx)(Tn,{children:o}),Object(r.jsx)(Sn,{cyan:!0,fullWidth:!0,style:{marginTop:"1rem"},children:i})]}),Object(r.jsx)(Cn,{children:"login"===e?Object(r.jsx)(l.b,{to:"/register",children:"\ud68c\uc6d0\uac00\uc785"}):Object(r.jsx)(l.b,{to:"/login",children:"\ub85c\uadf8\uc778"})})]})},_n=k.a.mark(qn),Ln=k.a.mark(Jn),Dn="user/TEMP_SET_USER",Rn=R("user/CHECK"),Nn=Object(h.a)(Rn,3),Fn=Nn[0],An=Nn[1],Bn=Nn[2],zn="user/LOGOUT",Gn=Object(E.a)(Dn,(function(n){return n})),Mn=Object(E.a)(Fn),Un=Object(E.a)(zn),Hn=N(Fn,(function(){return B.get("/api/auth/check")}));function Wn(){try{localStorage.removeItem("user")}catch(n){console.log("localStorage is not working")}}function qn(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(I.b)(z);case 3:localStorage.removeItem("user"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),_n,null,[[0,6]])}function Jn(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(I.d)(Fn,Hn);case 2:return n.next=4,Object(I.d)(Bn,Wn);case 4:return n.next=6,Object(I.d)(zn,qn);case 6:case"end":return n.stop()}}),Ln)}var Qn=Object(C.a)((wn={},Object(x.a)(wn,Dn,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{user:t})})),Object(x.a)(wn,An,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{user:t,checkError:null})})),Object(x.a)(wn,Bn,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{user:null,checkError:t})})),Object(x.a)(wn,zn,(function(n){return Object(y.a)(Object(y.a)({},n),{},{user:null})})),wn),{user:null,checkError:null}),Zn=Object(u.e)((function(n){var e=n.history,t=Object(a.useState)(null),c=Object(h.a)(t,2),o=c[0],i=c[1],u=Object(v.b)(),s=Object(v.c)((function(n){var e=n.auth,t=n.user;return{form:e.login,auth:e.auth,authError:e.authError,user:t.user}})),b=s.form,j=s.auth,l=s.authError,d=s.user;return Object(a.useEffect)((function(){u(nn("login"))}),[u]),Object(a.useEffect)((function(){if(l)return console.log("\uc624\ub958 \ubc1c\uc0dd"),console.log(l),void i("\ub85c\uadf8\uc778 \uc2e4\ud328");j&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),u(Mn()))}),[j,l,u]),Object(a.useEffect)((function(){if(d){e.push("/");try{localStorage.setItem("user",JSON.stringify(d))}catch(n){console.log("localStorage is not working")}}}),[e,d]),Object(r.jsx)(Pn,{type:"login",form:b,onChange:function(n){var e=n.target,t=e.value,r=e.name;u(Y({form:"login",key:r,value:t}))},onSubmit:function(n){n.preventDefault();var e=b.username,t=b.password;u(tn({username:e,password:t}))},error:o})})),Kn=function(){return Object(r.jsx)(m,{children:Object(r.jsx)(Zn,{})})},$n=t(65);function Vn(){var n=Object(s.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 1024px;\n  margin: 0 auto;\n\n  @media (max-width: 1024px) {\n    width: 768px;\n  }\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]);return Vn=function(){return n},n}var Xn=b.b.div(Vn()),Yn=function(n){var e=n.children,t=Object($n.a)(n,["children"]);return Object(r.jsx)(Xn,Object(y.a)(Object(y.a)({},t),{},{children:e}))};function ne(){var n=Object(s.a)(["\n  font-weight: 800;\n  margin-right: 1rem;\n"]);return ne=function(){return n},n}function ee(){var n=Object(s.a)(["\n  height: 4rem;\n"]);return ee=function(){return n},n}function te(){var n=Object(s.a)(["\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  .logo {\n    font-size: 1.125rem;\n    font-weight: 800;\n    letter-spacing: 2px;\n  }\n  .right {\n    display: flex;\n    align-items: center;\n  }\n"]);return te=function(){return n},n}function re(){var n=Object(s.a)(["\n  position: fixed;\n  width: 100%;\n  background: #fff;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]);return re=function(){return n},n}var ae=b.b.div(re()),ce=Object(b.b)(Yn)(te()),oe=b.b.div(ee()),ie=b.b.div(ne()),ue=function(n){var e=n.user,t=n.onLogout;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ae,{children:Object(r.jsxs)(ce,{children:[Object(r.jsx)(l.b,{to:"/",className:"logo",children:"BLOG"}),e?Object(r.jsxs)("div",{className:"right",children:[Object(r.jsx)(ie,{children:e.username}),Object(r.jsx)(gn,{onClick:t,children:"\ub85c\uadf8\uc544\uc6c3"})]}):Object(r.jsx)("div",{className:"right",children:Object(r.jsx)(gn,{to:"/login",children:"\ub85c\uadf8\uc778"})})]})}),Object(r.jsx)(oe,{})]})},se=function(){var n=Object(v.c)((function(n){return{user:n.user.user}})).user,e=Object(v.b)();return Object(r.jsx)(ue,{user:n,onLogout:function(){e(Un())}})},be=t(24),je=t.n(be);function le(){var n=Object(s.a)(["\n      margin-top: 1rem;\n    "]);return le=function(){return n},n}function de(){var n=Object(s.a)(["\n  ","\n  color: ",";\n  /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30*/\n  span + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n  }\n"],["\n  ","\n  color: ",";\n  /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30*/\n  span + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n  }\n"]);return de=function(){return n},n}var fe=b.b.div(de(),(function(n){return n.hasMarginTop&&Object(b.a)(le())}),j.gray[6],j.gray[4]),Oe=function(n){var e=n.username,t=n.publishedDate,a=n.hasMarginTop;return Object(r.jsxs)(fe,{hasMarginTop:a,children:[Object(r.jsx)("span",{children:Object(r.jsx)("b",{children:Object(r.jsx)(l.b,{to:"/@".concat(e),children:e})})}),Object(r.jsx)("span",{children:new Date(t).toLocaleDateString()})]})};function pe(){var n=Object(s.a)(["\n  margin-top: 0.5rem;\n  .tag {\n    dispaly: inline-block;\n    color: ",";\n    text-decoration: none;\n    margin-right: 0.5rem;\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return pe=function(){return n},n}var ge=b.b.div(pe(),j.cyan[7],j.cyan[6]),me=function(n){var e=n.tags;return Object(r.jsx)(ge,{children:e.map((function(n){return Object(r.jsxs)(l.b,{className:"tag",to:"/?tag=".concat(n),children:["#",n]},n)}))})};function he(){var n=Object(s.a)(["\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n\n  &:first-child {\n    padding-top: 0;\n  }\n  & + & {\n    border-top: 1px solid ",";\n  }\n  h2 {\n    font-size: 2rem;\n    margin-bottom: 0;\n    margin-top: 0;\n\n    &:hover {\n      color: ",";\n    }\n  }\n  p {\n    margin-top: 2rem;\n  }\n"]);return he=function(){return n},n}function ve(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 3rem;\n"]);return ve=function(){return n},n}function xe(){var n=Object(s.a)(["\n  margin-top: 3rem;\n"]);return xe=function(){return n},n}var ye,we=Object(b.b)(Yn)(xe()),ke=b.b.div(ve()),Ee=b.b.div(he(),j.gray[2],j.gray[6]),Ce=function(n){var e=n.post,t=e.publishedDate,a=e.user,c=e.tags,o=e.title,i=e.body,u=e._id;return Object(r.jsxs)(Ee,{children:[Object(r.jsx)("h2",{children:Object(r.jsx)(l.b,{to:"/@".concat(a.username,"/").concat(u),children:o})}),Object(r.jsx)(Oe,{username:a.username,publishedDate:new Date(t)}),Object(r.jsx)(me,{tags:c}),Object(r.jsx)("p",{children:i})]})},Se=function(n){var e=n.posts,t=n.error,a=n.showWriteButton,c=n.loading;return t?Object(r.jsx)(we,{children:"Error Page"}):Object(r.jsxs)(we,{children:[Object(r.jsx)(ke,{children:a&&Object(r.jsx)(gn,{cyan:!0,to:"/write",children:"New Post"})}),!c&&e&&Object(r.jsx)("div",{children:e.map((function(n){return Object(r.jsx)(Ce,{post:n},n._id)}))})]})},Ie=k.a.mark(Fe),Te=R("posts/LIST_POSTS"),Pe=Object(h.a)(Te,3),_e=Pe[0],Le=Pe[1],De=Pe[2],Re=Object(E.a)(_e,(function(n){return{tag:n.tag,username:n.username,page:n.page}})),Ne=N(_e,(function(n){var e=n.page,t=n.username,r=n.tag,a=je.a.stringify({page:e,username:t,tag:r});return B.get("/api/posts?".concat(a))}));function Fe(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(I.d)(_e,Ne);case 2:case"end":return n.stop()}}),Ie)}var Ae=Object(C.a)((ye={},Object(x.a)(ye,Le,(function(n,e){var t=e.payload,r=e.meta;return Object(y.a)(Object(y.a)({},n),{},{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(x.a)(ye,De,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{error:t})})),ye),{posts:null,error:null,lastPage:1}),Be=Object(u.e)((function(n){var e=n.location,t=n.match,c=Object(v.b)(),o=Object(v.c)((function(n){var e=n.posts,t=n.loading,r=n.user;return{posts:e.posts,error:e.error,loading:t["posts/LIST_POSTS"],user:r.user}})),i=o.posts,u=o.error,s=o.loading,b=o.user;return Object(a.useEffect)((function(){var n=t.params.username,r=je.a.parse(e.search,{ignoreQueryPrefix:!0}),a=r.tag,o=r.page;c(Re({tag:a,username:n,page:o}))}),[c,e.search,t.params]),Object(r.jsx)(Se,{loading:s,error:u,posts:i,showWriteButton:b})}));function ze(){var n=Object(s.a)([""]);return ze=function(){return n},n}function Ge(){var n=Object(s.a)(["\n  width: 320px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  margin-bottm: 3rem;\n"]);return Ge=function(){return n},n}var Me,Ue=b.b.div(Ge()),He=b.b.div(ze()),We=function(n){var e=n.username,t=n.tag,r=n.page,a=je.a.stringify({tag:t,page:r});return e?"/@".concat(e,"?").concat(a):"/?".concat(a)},qe=function(n){var e=n.page,t=n.lastPage,a=n.username,c=n.tag;return Object(r.jsxs)(Ue,{children:[Object(r.jsx)(gn,{disabled:1===e,to:1===e?void 0:We({username:a,tag:c,page:e-1}),children:"\uc774\uc804"}),Object(r.jsx)(He,{children:e}),Object(r.jsx)(gn,{disabled:e===t,to:e===t?void 0:We({username:a,tag:c,page:e+1}),children:"\ub2e4\uc74c"})]})},Je=Object(u.e)((function(n){var e=n.location,t=n.match,a=Object(v.c)((function(n){var e=n.posts,t=n.loading;return{lastPage:e.lastPage,posts:e.posts,loading:t["posts/LIST_POSTS"]}})),c=a.lastPage,o=a.posts,i=a.loading;if(!o||i)return null;var u=t.params.username,s=je.a.parse(e.search,{ignoreQueryPrefix:!0}),b=s.tag,j=s.page,l=void 0===j?1:j;return Object(r.jsx)(qe,{tag:b,username:u,page:parseInt(l,10),lastPage:c})})),Qe=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(se,{}),Object(r.jsx)(Be,{}),Object(r.jsx)(Je,{})]})},Ze=t(59),Ke=k.a.mark(ct),$e=R("post/READ_POST"),Ve=Object(h.a)($e,3),Xe=Ve[0],Ye=Ve[1],nt=Ve[2],et="post/UNLOAD_POST",tt=Object(E.a)(Xe,(function(n){return n})),rt=Object(E.a)(et),at=N(Xe,(function(n){return B.get("/api/posts/".concat(n))}));function ct(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(I.d)(Xe,at);case 2:case"end":return n.stop()}}),Ke)}var ot={post:null,error:null},it=Object(C.a)((Me={},Object(x.a)(Me,Ye,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{post:t})})),Object(x.a)(Me,nt,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{error:t})})),Object(x.a)(Me,et,(function(){return ot})),Me),ot),ut=t(25);function st(){var n=Object(s.a)(["\n  font-size: 1.3125rem;\n  color: ",";\n"]);return st=function(){return n},n}function bt(){var n=Object(s.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 3rem;\n  margin-bottom: 3rem;\n  h1 {\n    font-size: 3rem;\n    line-height: 1.5;\n    margin: 0;\n  }\n"]);return bt=function(){return n},n}function jt(){var n=Object(s.a)(["\n  margin-top: 4rem;\n"]);return jt=function(){return n},n}var lt=Object(b.b)(Yn)(jt()),dt=b.b.div(bt(),j.gray[2]),ft=b.b.div(st(),j.gray[8]),Ot=function(n){var e=n.post,t=n.error,a=n.loading,c=n.actionButtons;if(t)return t.response&&404===t.response.status?Object(r.jsx)(lt,{children:"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."}):Object(r.jsx)(lt,{children:"\uc624\ub958 \ubc1c\uc0dd!"});if(a||!e)return null;var o=e.title,i=e.body,u=e.user,s=e.publishedDate,b=e.tags;return Object(r.jsxs)(lt,{children:[Object(r.jsx)(ut.a,{children:Object(r.jsxs)("title",{children:[o," - BLOG"]})}),Object(r.jsxs)(dt,{children:[Object(r.jsx)("h1",{children:o}),Object(r.jsx)(Oe,{username:u.username,publishedDate:s,hasMarginTop:!0}),Object(r.jsx)(me,{tags:b})]}),c,Object(r.jsx)(ft,{dangerouslySetInnerHTML:{__html:i}})]})};function pt(){var n=Object(s.a)(["\n  height: 2rem;\n  & + & {\n    margin-left: 0.75rem;\n  }\n"]);return pt=function(){return n},n}function gt(){var n=Object(s.a)(["\n  width: 320px;\n  background: #fff;\n  padding: 1.5rem;\n  border-raduis: 4px;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n  h2 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n  p {\n    margin-bottom: 3rem;\n  }\n  .buttons {\n    dispaly: flex;\n    justify-content: flex-end;\n  }\n"]);return gt=function(){return n},n}function mt(){var n=Object(s.a)(["\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return mt=function(){return n},n}var ht=b.b.div(mt()),vt=b.b.div(gt()),xt=Object(b.b)(gn)(pt()),yt=function(n){var e=n.visible,t=n.title,a=n.description,c=n.confirmText,o=void 0===c?"\ud655\uc778":c,i=n.cancelText,u=void 0===i?"\ucde8\uc18c":i,s=n.onConfirm,b=n.onCancel;return e?Object(r.jsx)(ht,{children:Object(r.jsxs)(vt,{children:[Object(r.jsx)("h2",{children:t}),Object(r.jsx)("p",{children:a}),Object(r.jsxs)("div",{className:"buttons",children:[Object(r.jsx)(xt,{onClick:b,children:u}),Object(r.jsx)(xt,{cyan:!0,onClick:s,children:o})]})]})}):null},wt=function(n){var e=n.visible,t=n.onConfirm,a=n.onCancel;return Object(r.jsx)(yt,{visible:e,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:a})};function kt(){var n=Object(s.a)(["\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  color: ",";\n  font-weight: bold;\n  border: none;\n  outline: none;\n  font-size: 0.875rem;\n  cursor: pointer;\n  &:hover {\n    background: ",";\n    color: ",";\n    & + & {\n      margin-left: 0.25rem;\n    }\n  }\n"]);return kt=function(){return n},n}function Et(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  margin-top: -1.5rem;\n"]);return Et=function(){return n},n}var Ct,St=b.b.div(Et()),It=b.b.div(kt(),j.gray[6],j.gray[1],j.cyan[7]),Tt=function(n){var e=n.onEdit,t=n.onRemove,c=Object(a.useState)(!1),o=Object(h.a)(c,2),i=o[0],u=o[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(It,{onClick:e,children:"\uc218\uc815"}),Object(r.jsx)(It,{onClick:function(){u(!0)},children:"\uc0ad\uc81c"})]}),Object(r.jsx)(wt,{visible:i,onConfirm:function(){u(!1),t()},onCancel:function(){u(!1)}})]})},Pt=k.a.mark(Vt),_t="write/INITIALIZE",Lt="write/CHANGE_FIELD",Dt=R("write/WRITE_POST"),Rt=Object(h.a)(Dt,3),Nt=Rt[0],Ft=Rt[1],At=Rt[2],Bt="write/SET_ORIGINAL_POST",zt=R("write/UPDATE_POST"),Gt=Object(h.a)(zt,3),Mt=Gt[0],Ut=Gt[1],Ht=Gt[2],Wt=Object(E.a)(_t),qt=Object(E.a)(Lt,(function(n){return{key:n.key,value:n.value}})),Jt=Object(E.a)(Nt,(function(n){return{title:n.title,body:n.body,tags:n.tags}})),Qt=Object(E.a)(Bt,(function(n){return n})),Zt=Object(E.a)(Mt,(function(n){return{id:n.id,title:n.title,body:n.body,tags:n.tags}})),Kt=N(Nt,(function(n){var e=n.title,t=n.body,r=n.tags;return B.post("/api/posts",{title:e,body:t,tags:r})})),$t=N(Mt,(function(n){var e=n.id,t=n.title,r=n.body,a=n.tags;return B.patch("api/posts/".concat(e),{title:t,body:r,tags:a})}));function Vt(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(I.d)(Nt,Kt);case 2:return n.next=4,Object(I.d)(Mt,$t);case 4:case"end":return n.stop()}}),Pt)}var Xt={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null},Yt=Object(C.a)((Ct={},Object(x.a)(Ct,_t,(function(n){return Xt})),Object(x.a)(Ct,Lt,(function(n,e){var t=e.payload,r=t.key,a=t.value;return Object(y.a)(Object(y.a)({},n),{},Object(x.a)({},r,a))})),Object(x.a)(Ct,Nt,(function(n){return Object(y.a)(Object(y.a)({},n),{},{post:null,postError:null})})),Object(x.a)(Ct,Ft,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{post:t})})),Object(x.a)(Ct,At,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{postError:t})})),Object(x.a)(Ct,Bt,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id})})),Object(x.a)(Ct,Ut,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{post:t})})),Object(x.a)(Ct,Ht,(function(n,e){var t=e.payload;return Object(y.a)(Object(y.a)({},n),{},{postError:t})})),Ct),Xt),nr=Object(u.e)((function(n){var e=n.match,t=n.history,c=e.params.postId,o=Object(v.b)(),i=Object(v.c)((function(n){var e=n.post,t=n.loading,r=n.user;return{post:e.post,error:e.error,loading:t["post/READ_POST"],user:r.user}})),u=i.post,s=i.error,b=i.loading,j=i.user;Object(a.useEffect)((function(){return o(tt(c)),function(){o(rt())}}),[o,c]);var l=function(){var n=Object(Ze.a)(k.a.mark((function n(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e=c,B.delete("/api/posts/".concat(e));case 3:t.push("/"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}var e}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),d=(j&&j._id)===(u&&u.user._id);return Object(r.jsx)(Ot,{post:u,loading:b,error:s,actionButtons:d&&Object(r.jsx)(Tt,{onEdit:function(){o(Qt(u)),t.push("/write")},onRemove:l})})})),er=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(se,{}),Object(r.jsx)(nr,{})]})},tr=Object(u.e)((function(n){var e=n.history,t=Object(a.useState)(null),c=Object(h.a)(t,2),o=c[0],i=c[1],u=Object(v.b)(),s=Object(v.c)((function(n){var e=n.auth,t=n.user;return{form:e.register,auth:e.auth,authError:e.authError,user:t.user}})),b=s.form,j=s.auth,l=s.authError,d=s.user;return Object(a.useEffect)((function(){u(nn("register"))}),[u]),Object(a.useEffect)((function(){if(l)return 409===l.response.status?void i("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uba85\uc785\ub2c8\ub2e4."):void i("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");j&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),console.log(j),u(Mn()))}),[j,l,u]),Object(a.useEffect)((function(){if(d){e.push("/");try{localStorage.setItem("user",JSON.stringify(d))}catch(n){console.log("localStorage is not working")}}}),[e,d]),Object(r.jsx)(Pn,{type:"register",form:b,onChange:function(n){var e=n.target,t=e.value,r=e.name;u(Y({form:"register",key:r,value:t}))},onSubmit:function(n){n.preventDefault();var e=b.username,t=b.password,r=b.passwordConfirm;if(![e,t,r].includes(""))return t!==r?(i("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),u(Y({form:"register",key:"password",value:""})),void u(Y({form:"register",key:"passwordConfirm",value:""}))):void u(en({username:e,password:t}));i("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694.")},error:o})})),rr=function(){return Object(r.jsx)(m,{children:Object(r.jsx)(tr,{})})},ar=t(61),cr=t.n(ar);t(100);function or(){var n=Object(s.a)(["\n  .ql-editor {\n    padding: 0;\n    min-height: 320px;\n    font-size: 1.125rem;\n    line-height: 1.5;\n  }\n  .ql-editor.ql-blank::before {\n    left: 0px;\n  }\n"]);return or=function(){return n},n}function ir(){var n=Object(s.a)(["\n  font-size: 3rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  margin-bottom: 2rem;\n  width: 100%;\n"]);return ir=function(){return n},n}function ur(){var n=Object(s.a)(["\n  padding-top: 5rem;\n  padding-bottom: 5rem;\n"]);return ur=function(){return n},n}var sr=Object(b.b)(Yn)(ur()),br=b.b.input(ir(),j.gray[4]),jr=b.b.div(or()),lr=function(n){var e=n.title,t=n.body,c=n.onChangeField,o=Object(a.useRef)(null),i=Object(a.useRef)(null);Object(a.useEffect)((function(){i.current=new cr.a(o.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694...",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var n=i.current;n.on("text-change",(function(e,t,r){"user"===r&&c({key:"body",value:n.root.innerHTML})}))}),[c]);var u=Object(a.useRef)(!1);Object(a.useEffect)((function(){u.current||(u.current=!0,i.current.root.innerHTML=t)}),[t]);return Object(r.jsxs)(sr,{children:[Object(r.jsx)(br,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:function(n){c({key:"title",value:n.target.value})},value:e}),Object(r.jsx)(jr,{children:Object(r.jsx)("div",{ref:o})})]})},dr=function(){var n=Object(v.b)(),e=Object(v.c)((function(n){var e=n.write;return{title:e.title,body:e.body}})),t=e.title,c=e.body,o=Object(a.useCallback)((function(e){return n(qt(e))}),[n]);return Object(a.useEffect)((function(){return function(){n(Wt())}}),[n]),Object(r.jsx)(lr,{onChangeField:o,title:t,body:c})},fr=t(63);function Or(){var n=Object(s.a)(["\n  display: flex;\n  margin-top: 0.5rem;\n"]);return Or=function(){return n},n}function pr(){var n=Object(s.a)(["\n  margin-right: 0.5rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return pr=function(){return n},n}function gr(){var n=Object(s.a)(["\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  width: 256px;\n  border: 1px solid ","; /* \uc2a4\ud0c0\uc77c \ucd08\uae30\ud654 */\n  input,\n  button {\n    outline: none;\n    border: none;\n    font-size: 1rem;\n  }\n  input {\n    padding: 0.5rem;\n    flex: 1;\n  }\n  button {\n    cursor: pointer;\n    padding-right: 1rem;\n    padding-left: 1rem;\n    border: none;\n    background: ",";\n    color: white;\n    font-weight: bold;\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return gr=function(){return n},n}function mr(){var n=Object(s.a)(["\n  width: 100%;\n  border-top: 1px solid ",";\n  padding-top: 2rem;\n h4 {\n    color: ","\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n"]);return mr=function(){return n},n}var hr=b.b.div(mr(),j.gray[2],j.gray[8]),vr=b.b.form(gr(),j.gray[9],j.gray[8],j.gray[6]),xr=b.b.div(pr(),j.gray[6]),yr=b.b.div(Or()),wr=c.a.memo((function(n){var e=n.tag,t=n.onRemove;return Object(r.jsxs)(xr,{onClick:function(){return t(e)},children:["#",e]})})),kr=c.a.memo((function(n){var e=n.tags,t=n.onRemove;return Object(r.jsx)(yr,{children:e.map((function(n){return Object(r.jsx)(wr,{tag:n,onRemove:t},n)}))})})),Er=function(n){var e=n.tags,t=n.onChangeTags,c=Object(a.useState)(""),o=Object(h.a)(c,2),i=o[0],u=o[1],s=Object(a.useState)([]),b=Object(h.a)(s,2),j=b[0],l=b[1],d=Object(a.useCallback)((function(n){if(n&&!j.includes(n)){var e=[].concat(Object(fr.a)(j),[n]);l(e),t(e)}}),[j,t]),f=Object(a.useCallback)((function(n){var e=j.filter((function(e){return e!==n}));l(e),t(e)}),[j,t]),O=Object(a.useCallback)((function(n){u(n.target.value)}),[]),p=Object(a.useCallback)((function(n){n.preventDefault(),d(i.trim()),u("")}),[i,d]);return Object(a.useEffect)((function(){l(e)}),[e]),Object(r.jsxs)(hr,{children:[Object(r.jsx)("h4",{children:"\ud0dc\uadf8"}),Object(r.jsxs)(vr,{onSubmit:p,children:[Object(r.jsx)("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",value:i,onChange:O}),Object(r.jsx)("button",{type:"submit",children:"\ucd94\uac00"})]}),Object(r.jsx)(kr,{tags:j,onRemove:f})]})},Cr=function(){var n=Object(v.b)(),e=Object(v.c)((function(n){return n.write.tags}));return Object(r.jsx)(Er,{onChangeTags:function(e){n(qt({key:"tags",value:e}))},tags:e})};function Sr(){var n=Object(s.a)(["\n  height: 2.125rem;\n  & + & {\n    marign-left: 0.5rem;\n  }\n"]);return Sr=function(){return n},n}function Ir(){var n=Object(s.a)(["\n  margin-top: 1rem;\n  margin-bottom: 3rem;\n  button + button {\n    margin-left: 0.5rem;\n  }\n"]);return Ir=function(){return n},n}var Tr=b.b.div(Ir()),Pr=Object(b.b)(gn)(Sr()),_r=function(n){var e=n.onCancel,t=n.onPublish,a=n.idEdit;return Object(r.jsxs)(Tr,{children:[Object(r.jsxs)(Pr,{cyan:!0,onClick:t,children:["\ud3ec\uc2a4\ud2b8 ",a?"\uc218\uc815":"\ub4f1\ub85d"]}),Object(r.jsx)(Pr,{onClick:e,children:"\ucde8\uc18c"})]})},Lr=Object(u.e)((function(n){var e=n.history,t=Object(v.b)(),c=Object(v.c)((function(n){var e=n.write;return{title:e.title,body:e.body,tags:e.tags,post:e.post,postError:e.postError,originalPostId:e.originalPostId}})),o=c.title,i=c.body,u=c.tags,s=c.post,b=c.postError,j=c.originalPostId;return Object(a.useEffect)((function(){if(s){var n=s._id,t=s.user;e.push("/@".concat(t.username,"/").concat(n))}b&&console.log(b)}),[e,s,b]),Object(r.jsx)(_r,{onPublish:function(){j&&t(Zt({title:o,body:i,tags:u,id:j})),t(Jt({title:o,body:i,tags:u}))},onCancel:function(){e.goBack()},isEdit:!!j})})),Dr=function(){return Object(r.jsxs)(Yn,{children:[Object(r.jsx)(ut.a,{children:Object(r.jsx)("title",{children:"\uae00 \uc791\uc131\ud558\uae30 - BLOG"})}),Object(r.jsx)(dr,{}),Object(r.jsx)(Cr,{}),Object(r.jsx)(Lr,{})]})},Rr=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ut.a,{children:Object(r.jsx)("title",{children:"BLOG"})}),Object(r.jsx)(u.a,{component:Kn,path:"/login"}),Object(r.jsx)(u.a,{component:Qe,path:["/@:username","/"],exact:!0}),Object(r.jsx)(u.a,{component:er,path:"/@:username/:postId"}),Object(r.jsx)(u.a,{component:rr,path:"/register"}),Object(r.jsx)(u.a,{component:Dr,path:"/write"})]})},Nr=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,104)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,o=e.getTTFB;t(n),r(n),a(n),c(n),o(n)}))},Fr=t(22),Ar=t(62),Br=k.a.mark(zr);function zr(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(I.a)([cn(),Jn(),Vt(),ct(),Fe()]);case 2:case"end":return n.stop()}}),Br)}var Gr=Object(Fr.combineReducers)({auth:un,loading:D,user:Qn,write:Yt,post:it,posts:Ae}),Mr=t(64),Ur=Object(Mr.a)(),Hr=Object(Fr.createStore)(Gr,Object(Ar.composeWithDevTools)(Object(Fr.applyMiddleware)(Ur)));Ur.run(zr),function(){try{var n=localStorage.getItem("user");if(!n)return;Hr.dispatch(Gn(n)),Hr.dispatch(Mn())}catch(e){console.log("localStorage is not working")}}(),i.a.render(Object(r.jsx)(v.a,{store:Hr,children:Object(r.jsx)(l.a,{children:Object(r.jsx)(ut.b,{children:Object(r.jsx)(Rr,{})})})}),document.getElementById("root")),Nr()},71:function(n,e,t){}},[[101,1,2]]]);
//# sourceMappingURL=main.9898ae1d.chunk.js.map