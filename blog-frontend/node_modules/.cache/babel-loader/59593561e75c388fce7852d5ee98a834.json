{"ast":null,"code":"import _toConsumableArray from\"/Users/jeonghyeon/Desktop/kjh/dev/blog-react/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/jeonghyeon/Desktop/kjh/dev/blog-react/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/jeonghyeon/Desktop/kjh/dev/blog-react/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  margin-top: 0.5rem;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  margin-right: 0.5rem;\\n  color: \",\";\\n  cursor: pointer;\\n  &:hover {\\n    opacity: 0.5;\\n  }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  border-radius: 4px;\\n  overflow: hidden;\\n  display: flex;\\n  width: 256px;\\n  border: 1px solid \",\"; /* \\uC2A4\\uD0C0\\uC77C \\uCD08\\uAE30\\uD654 */\\n  input,\\n  button {\\n    outline: none;\\n    border: none;\\n    font-size: 1rem;\\n  }\\n  input {\\n    padding: 0.5rem;\\n    flex: 1;\\n  }\\n  button {\\n    cursor: pointer;\\n    padding-right: 1rem;\\n    padding-left: 1rem;\\n    border: none;\\n    background: \",\";\\n    color: white;\\n    font-weight: bold;\\n    &:hover {\\n      background: \",\";\\n    }\\n  }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  border-top: 1px solid \",\";\\n  padding-top: 2rem;\\n h4 {\\n    color: \",\"\\n    margin-top: 0;\\n    margin-bottom: 0.5rem;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useCallback,useEffect}from'react';import styled from'styled-components';import palette from'../../lib/styles/palette';var TagBoxBlock=styled.div(_templateObject(),palette.gray[2],palette.gray[8]);var TagForm=styled.form(_templateObject2(),palette.gray[9],palette.gray[8],palette.gray[6]);var Tag=styled.div(_templateObject3(),palette.gray[6]);var TagListBlock=styled.div(_templateObject4());// React.memo를 사용하여 tag 값이 바뀔 때만 리렌더링되도록 처리\nvar TagItem=/*#__PURE__*/React.memo(function(_ref){var tag=_ref.tag,onRemove=_ref.onRemove;return/*#__PURE__*/_jsxs(Tag,{onClick:function onClick(){return onRemove(tag);},children:[\"#\",tag]});});// React.memo를 사용하여 tags 값이 바뀔 때만 리렌더링되도록 처리\nvar TagList=/*#__PURE__*/React.memo(function(_ref2){var tags=_ref2.tags,onRemove=_ref2.onRemove;return/*#__PURE__*/_jsx(TagListBlock,{children:tags.map(function(tag){return/*#__PURE__*/_jsx(TagItem,{tag:tag,onRemove:onRemove},tag);})});});var TagBox=function TagBox(_ref3){var tags=_ref3.tags,onChangeTags=_ref3.onChangeTags;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),localTags=_useState4[0],setLocalTags=_useState4[1];var insertTag=useCallback(function(tag){if(!tag)return;// 공백이라면 추가하지 않음\nif(localTags.includes(tag))return;// 이미 존재한다면 추가하지 않음\nvar nextTags=[].concat(_toConsumableArray(localTags),[tag]);setLocalTags(nextTags);onChangeTags(nextTags);},[localTags,onChangeTags]);var onRemove=useCallback(function(tag){var nextTags=localTags.filter(function(t){return t!==tag;});setLocalTags(nextTags);onChangeTags(nextTags);},[localTags,onChangeTags]);var onChange=useCallback(function(e){setInput(e.target.value);},[]);var onSubmit=useCallback(function(e){e.preventDefault();insertTag(input.trim());// 앞뒤 공백을 없앤 후 등록\nsetInput('');// input 초기화\n},[input,insertTag]);// tags 값이 바뀔 때\nuseEffect(function(){setLocalTags(tags);},[tags]);return/*#__PURE__*/_jsxs(TagBoxBlock,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD0DC\\uADF8\"}),/*#__PURE__*/_jsxs(TagForm,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\uD0DC\\uADF8\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",value:input,onChange:onChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uCD94\\uAC00\"})]}),/*#__PURE__*/_jsx(TagList,{tags:localTags,onRemove:onRemove})]});};export default TagBox;","map":{"version":3,"sources":["/Users/jeonghyeon/Desktop/kjh/dev/blog-react/blog-frontend/src/components/write/TagBox.js"],"names":["React","useState","useCallback","useEffect","styled","palette","TagBoxBlock","div","gray","TagForm","form","Tag","TagListBlock","TagItem","memo","tag","onRemove","TagList","tags","map","TagBox","onChangeTags","input","setInput","localTags","setLocalTags","insertTag","includes","nextTags","filter","t","onChange","e","target","value","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport palette from '../../lib/styles/palette';\n\nconst TagBoxBlock = styled.div`\n  width: 100%;\n  border-top: 1px solid ${palette.gray[2]};\n  padding-top: 2rem;\n h4 {\n    color: ${palette.gray[8]}\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n`;\n\nconst TagForm = styled.form`\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  width: 256px;\n  border: 1px solid ${palette.gray[9]}; /* 스타일 초기화 */\n  input,\n  button {\n    outline: none;\n    border: none;\n    font-size: 1rem;\n  }\n  input {\n    padding: 0.5rem;\n    flex: 1;\n  }\n  button {\n    cursor: pointer;\n    padding-right: 1rem;\n    padding-left: 1rem;\n    border: none;\n    background: ${palette.gray[8]};\n    color: white;\n    font-weight: bold;\n    &:hover {\n      background: ${palette.gray[6]};\n    }\n  }\n`;\n\nconst Tag = styled.div`\n  margin-right: 0.5rem;\n  color: ${palette.gray[6]};\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n`;\n\nconst TagListBlock = styled.div`\n  display: flex;\n  margin-top: 0.5rem;\n`;\n\n// React.memo를 사용하여 tag 값이 바뀔 때만 리렌더링되도록 처리\nconst TagItem = React.memo(({ tag, onRemove }) => (\n  <Tag onClick={() => onRemove(tag)}>#{tag}</Tag>\n));\n\n// React.memo를 사용하여 tags 값이 바뀔 때만 리렌더링되도록 처리\nconst TagList = React.memo(({ tags, onRemove }) => (\n  <TagListBlock>\n    {tags.map((tag) => (\n      <TagItem key={tag} tag={tag} onRemove={onRemove} />\n    ))}\n  </TagListBlock>\n));\n\nconst TagBox = ({ tags, onChangeTags }) => {\n  const [input, setInput] = useState('');\n  const [localTags, setLocalTags] = useState([]);\n  const insertTag = useCallback(\n    (tag) => {\n      if (!tag) return; // 공백이라면 추가하지 않음\n      if (localTags.includes(tag)) return; // 이미 존재한다면 추가하지 않음\n      const nextTags = [...localTags, tag];\n      setLocalTags(nextTags);\n      onChangeTags(nextTags);\n    },\n    [localTags, onChangeTags],\n  );\n\n  const onRemove = useCallback(\n    (tag) => {\n      const nextTags = localTags.filter((t) => t !== tag);\n      setLocalTags(nextTags);\n      onChangeTags(nextTags);\n    },\n    [localTags, onChangeTags],\n  );\n\n  const onChange = useCallback((e) => {\n    setInput(e.target.value);\n  }, []);\n\n  const onSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      insertTag(input.trim()); // 앞뒤 공백을 없앤 후 등록\n      setInput(''); // input 초기화\n    },\n    [input, insertTag],\n  );\n\n  // tags 값이 바뀔 때\n  useEffect(() => {\n    setLocalTags(tags);\n  }, [tags]);\n\n  return (\n    <TagBoxBlock>\n      <h4>태그</h4>\n      <TagForm onSubmit={onSubmit}>\n        <input\n          placeholder=\"태그를 입력하세요\"\n          value={input}\n          onChange={onChange}\n        />\n        <button type=\"submit\">추가</button>\n      </TagForm>\n      <TagList tags={localTags} onRemove={onRemove} />\n    </TagBoxBlock>\n  );\n};\n\nexport default TagBox;\n"]},"metadata":{},"sourceType":"module"}