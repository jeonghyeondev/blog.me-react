{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/jeonghyeon/Desktop/kjh/dev/blog-react/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  .ql-editor {\\n    padding: 0;\\n    min-height: 320px;\\n    font-size: 1.125rem;\\n    line-height: 1.5;\\n  }\\n  .ql-editor.ql-blank::before {\\n    left: 0px;\\n  }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  font-size: 3rem;\\n  outline: none;\\n  padding-bottom: 0.5rem;\\n  border: none;\\n  border-bottom: 1px solid \",\";\\n  margin-bottom: 2rem;\\n  width: 100%;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  padding-top: 5rem;\\n  padding-bottom: 5rem;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useRef,useEffect}from'react';import Quill from'quill';import'quill/dist/quill.bubble.css';import styled from'styled-components';import palette from'../../lib/styles/palette';import Responsive from'../common/Responsive';var EditorBlock=styled(Responsive)(_templateObject());var TitleInput=styled.input(_templateObject2(),palette.gray[4]);var QuillWrapper=styled.div(_templateObject3());var Editor=function Editor(_ref){var title=_ref.title,body=_ref.body,onChangeField=_ref.onChangeField;var quillElement=useRef(null);// Quill을 적용할 DivElement를 설정\nvar quillInstance=useRef(null);// Quill 인스턴스를 설정\nuseEffect(function(){quillInstance.current=new Quill(quillElement.current,{theme:'bubble',placeholder:'내용을 작성하세요...',modules:{// 더 많은 옵션\n// https://quilljs.com/docs/modules/toolbar/ 참고\ntoolbar:[[{header:'1'},{header:'2'}],['bold','italic','underline','strike'],[{list:'ordered'},{list:'bullet'}],['blockquote','code-block','link','image']]}});// quill에 text-change 이벤트 핸들러 등록\n// 참고: https://quilljs.com/docs/api/#events\nvar quill=quillInstance.current;quill.on('text-change',function(delta,oldDelta,source){if(source==='user'){onChangeField({key:'body',value:quill.root.innerHTML});}});},[onChangeField]);var mounted=useRef(false);useEffect(function(){if(mounted.current)return;mounted.current=true;quillInstance.current.root.innerHTML=body;},[body]);var onChangeTitle=function onChangeTitle(e){onChangeField({key:'title',value:e.target.value});};return/*#__PURE__*/_jsxs(EditorBlock,{children:[/*#__PURE__*/_jsx(TitleInput,{placeholder:\"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",onChange:onChangeTitle,value:title}),/*#__PURE__*/_jsx(QuillWrapper,{children:/*#__PURE__*/_jsx(\"div\",{ref:quillElement})})]});};export default Editor;","map":{"version":3,"sources":["/Users/jeonghyeon/Desktop/kjh/dev/blog-react/blog-frontend/src/components/write/Editor.js"],"names":["React","useRef","useEffect","Quill","styled","palette","Responsive","EditorBlock","TitleInput","input","gray","QuillWrapper","div","Editor","title","body","onChangeField","quillElement","quillInstance","current","theme","placeholder","modules","toolbar","header","list","quill","on","delta","oldDelta","source","key","value","root","innerHTML","mounted","onChangeTitle","e","target"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport Quill from 'quill';\nimport 'quill/dist/quill.bubble.css';\nimport styled from 'styled-components';\nimport palette from '../../lib/styles/palette';\nimport Responsive from '../common/Responsive';\n\nconst EditorBlock = styled(Responsive)`\n  padding-top: 5rem;\n  padding-bottom: 5rem;\n`;\nconst TitleInput = styled.input`\n  font-size: 3rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ${palette.gray[4]};\n  margin-bottom: 2rem;\n  width: 100%;\n`;\nconst QuillWrapper = styled.div`\n  .ql-editor {\n    padding: 0;\n    min-height: 320px;\n    font-size: 1.125rem;\n    line-height: 1.5;\n  }\n  .ql-editor.ql-blank::before {\n    left: 0px;\n  }\n`;\nconst Editor = ({ title, body, onChangeField }) => {\n  const quillElement = useRef(null); // Quill을 적용할 DivElement를 설정\n  const quillInstance = useRef(null); // Quill 인스턴스를 설정\n\n  useEffect(() => {\n    quillInstance.current = new Quill(quillElement.current, {\n      theme: 'bubble',\n      placeholder: '내용을 작성하세요...',\n      modules: {\n        // 더 많은 옵션\n        // https://quilljs.com/docs/modules/toolbar/ 참고\n        toolbar: [\n          [{ header: '1' }, { header: '2' }],\n          ['bold', 'italic', 'underline', 'strike'],\n          [{ list: 'ordered' }, { list: 'bullet' }],\n          ['blockquote', 'code-block', 'link', 'image'],\n        ],\n      },\n    });\n\n    // quill에 text-change 이벤트 핸들러 등록\n    // 참고: https://quilljs.com/docs/api/#events\n    const quill = quillInstance.current;\n    quill.on('text-change', (delta, oldDelta, source) => {\n      if (source === 'user') {\n        onChangeField({ key: 'body', value: quill.root.innerHTML });\n      }\n    });\n  }, [onChangeField]);\n\n  const mounted = useRef(false);\n  useEffect(() => {\n    if (mounted.current) return;\n    mounted.current = true;\n    quillInstance.current.root.innerHTML = body;\n  }, [body]);\n\n  const onChangeTitle = (e) => {\n    onChangeField({ key: 'title', value: e.target.value });\n  };\n\n  return (\n    <EditorBlock>\n      <TitleInput\n        placeholder=\"제목을 입력하세요.\"\n        onChange={onChangeTitle}\n        value={title}\n      />\n      <QuillWrapper>\n        <div ref={quillElement} />\n      </QuillWrapper>\n    </EditorBlock>\n  );\n};\n\nexport default Editor;\n"]},"metadata":{},"sourceType":"module"}